<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Analisador Pro - XP Investor</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div class="app-shell">
        <aside class="sidebar">
            <div class="brand">XP <span>Analyzer</span></div>
            
            <div class="sidebar-section">
                <h3>1. Dados e Gloss√°rio</h3>
                <div class="upload-wrapper">
                    <input type="file" id="excelFile" accept=".xlsx, .xls, .csv" hidden>
                    <label for="excelFile" class="btn-upload">üìÅ Relat√≥rio Excel</label>
                    
                    <input type="file" id="glossaryFile" accept=".txt" hidden>
                    <label for="glossaryFile" class="btn-upload secondary">üìñ Gloss√°rio (T;C;S)</label>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>2. Simula√ß√£o de Aporte</h3>
                <div class="target-card aporte-box">
                    <span>Valor do Aporte (R$)</span>
                    <input type="number" id="valorAporte" value="0" step="1000">
                </div>
            </div>

            <div class="sidebar-section">
                <h3>3. Aloca√ß√£o Alvo (%)</h3>
                <div class="target-grid-modern">
                    <div class="target-card"><span>RV Brasil</span><input type="number" class="target-input" data-cat="Renda Variavel Brasil" value="0"></div>
                    <div class="target-card"><span>RF Brasil</span><input type="number" class="target-input" data-cat="Renda Fixa Brasil" value="0"></div>
                    <div class="target-card"><span>Multimercado</span><input type="number" class="target-input" data-cat="Multimercado" value="0"></div>
                    <div class="target-card"><span>RV Global</span><input type="number" class="target-input" data-cat="Renda Variavel Global" value="0"></div>
                    <div class="target-card"><span>RF Global</span><input type="number" class="target-input" data-cat="Renda Fixa Global" value="0"></div>
                    <div class="target-card"><span>Alternativo</span><input type="number" class="target-input" data-cat="Alternativo" value="0"></div>
                    <div class="target-card"><span>Caixa</span><input type="number" class="target-input" data-cat="Caixa" value="0"></div>
                </div>
                <button class="btn-analyze" onclick="processarPlanilha()">‚ö° Analisar e Rebalancear</button>
            </div>
        </aside>

        <main class="main-content">
            <div class="top-stats">
                <div class="stat-card">
                    <label>Patrim√¥nio Total</label>
                    <h2 id="txtTotal">R$ 0,00</h2>
                </div>
                <div class="stat-card">
                    <label>Conta XP</label>
                    <h2 id="clientName">---</h2> </div>
            </div>

            <div class="visual-row single-chart">
                <div class="card chart-card">
                    <h3>Estrat√©gia de Aloca√ß√£o Atual</h3>
                    <div class="chart-wrapper">
                        <canvas id="chartEstrategia"></canvas>
                    </div>
                </div>
                
                <div class="card rebalance-card">
    <h3>Plano de Execu√ß√£o Estrat√©gico</h3>
    <table class="data-table modern-action-table">
        <thead>
            <tr>
                <th>Categoria</th>
                <th>Atual %</th>
                <th>Alvo %</th>
                <th>A√ß√µes Sugeridas</th>
            </tr>
        </thead>
        <tbody id="rebalanceBody"></tbody>
    </table>
    <div id="aporteSummary" class="aporte-summary-box">
        </div>
</div>
            </div>

            <div id="accordionAtivos" class="asset-grid"></div>

            <div class="card subclass-card">
                <h3>Exposi√ß√£o por Subclasse (Indexadores)</h3>
                <div class="chart-wrapper-bar">
                    <canvas id="chartSubclasses"></canvas>
                </div>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>